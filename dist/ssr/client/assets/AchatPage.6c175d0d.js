var S=Object.defineProperty,F=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var y=(e,a,t)=>a in e?S(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,p=(e,a)=>{for(var t in a||(a={}))D.call(a,t)&&y(e,t,a[t]);if(v)for(var t of v(a))B.call(a,t)&&y(e,t,a[t]);return e},_=(e,a)=>F(e,Q(a));import{Q as C,a as w}from"./QToolbar.e4c4aa89.js";import{u as T,a as k,Q as q,b as $}from"./QTable.2018d3fb.js";import{f as V,a as E}from"./QBtn.bf0eb759.js";import{Q as x}from"./QCard.3b7f7a89.js";import{e as h,h as c,T as I,g as N,r as f,E as O,F as s,D as P,O as m,G as i,I as A}from"./index.cd20b853.js";import{c as U}from"./render.9be1ebaa.js";import{u as z,a as L}from"./use-dark.25796199.js";import{Q as R}from"./QPage.49abf98e.js";import{api as j}from"./axios.cd072381.js";import"./QItem.183139aa.js";import"./create-uploader-component.8fb1e8c2.js";import"./format.2a3572e1.js";var G=U({name:"QInnerLoading",props:_(p(p({},z),T),{showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]}),setup(e,{slots:a}){const t=N(),o=L(e,t.proxy.$q),{transition:u,transitionStyle:g}=k(e,h(()=>e.showing)),d=h(()=>"q-inner-loading absolute-full column flex-center"+(o.value===!0?" q-inner-loading--dark":"")),b=h(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function l(){const n=[c(V,{size:e.size,color:e.color})];return e.label!==void 0&&n.push(c("div",{class:b.value,style:e.labelStyle},[e.label])),n}function r(){return e.showing===!0?c("div",{class:d.value,style:g.value},a.default!==void 0?a.default():l()):null}return()=>c(I,{name:u.value,appear:!0},r)}});const H={class:"row items-start q-gutter-md"},J=A(" Commande "),K={style:{margin:"15px"}},M={class:"col column q-gutter-md"},W=A("Article"),X={style:{margin:"15px"}},ce={setup(e){const a=f([]),t=f(),o=f(),u=f(!1),g=[{name:"fournisseur",required:!0,align:"left",label:"Fournisseur",headerStyle:"width: 90px",field:l=>l.COFOU},{name:"cobc",required:!0,align:"left",label:"Commande",headerStyle:"width: 90px",field:"COBC"},{name:"naf",required:!0,align:"left",label:"Affaire",headerStyle:"width: 70px",field:"NAF"},{name:"date",required:!0,align:"left",label:"Date",headerStyle:"width: 70px",field:"DATE",format:(l,r)=>`${l.substring(6,8)}/${l.substring(4,6)}/${l.substring(0,4)}`},{name:"delai",required:!0,align:"left",label:"Delai",headerStyle:"width: 70px",field:"DELAI",format:(l,r)=>`${l.substring(6,8)}/${l.substring(4,6)}/${l.substring(0,4)}`},{name:"article",required:!0,align:"left",label:"Arcticle",field:"ART"},{name:"desa1",required:!0,align:"left",label:"Descriptif 1",field:"DESA1"},{name:"desa2",required:!0,align:"left",label:"Descriptif 2",field:"DESA2"},{name:"desa3",required:!0,align:"left",label:"Descriptif 3",field:"DESA3"},{name:"quantite",required:!0,align:"left",label:"Quantit\xE9",headerStyle:"width: 90px",field:"QTE"}];function d(l){l=="BC"?o.value="":l=="AFF"&&(t.value="")}function b(){if(o.value||t.value){u.value=!0;const l=t.value,r=o.value;j.get("/BC",{params:{BC:l,AFF:r}}).then(function(n){a.value=n.data,u.value=!1}).catch(function(n){alert(n)}).then(function(){})}}return(l,r)=>(P(),O(R,{class:"flex flex-center"},{default:s(()=>[m("div",H,[i(x,{class:"shadow-10 q-card--bordered",style:{height:"800px"}},{default:s(()=>[i(C,null,{default:s(()=>[i(w,null,{default:s(()=>[J]),_:1})]),_:1}),m("div",K,[m("div",M,[i(q,{outlined:"",type:"number",label:"Commande","stack-label":"",modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=n=>t.value=n),onFocus:r[1]||(r[1]=n=>d("BC"))},null,8,["modelValue"]),i(q,{outlined:"",type:"number",label:"Affaire","stack-label":"",modelValue:o.value,"onUpdate:modelValue":r[2]||(r[2]=n=>o.value=n),onFocus:r[3]||(r[3]=n=>d("AFF"))},null,8,["modelValue"]),i(E,{onClick:b,color:"primary",label:"Recherche"})])])]),_:1}),i(x,{class:"shadow-10 q-card--bordered",style:{height:"800px","min-width":"1000px"}},{default:s(()=>[i(C,null,{default:s(()=>[i(w,null,{default:s(()=>[W]),_:1})]),_:1}),m("div",X,[i($,{class:"my-sticky-header-table",style:{height:"715px"},flat:"",bordered:"",rows:a.value,columns:g,"row-key":"article",separator:"cell","rows-per-page-options":[0],"virtual-scroll":"",selected:l.selected,"onUpdate:selected":r[4]||(r[4]=n=>l.selected=n),loading:u.value},{loading:s(()=>[i(G,{showing:"",color:"primary"})]),_:1},8,["rows","selected","loading"])])]),_:1})])]),_:1}))}};export{ce as default};
